(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={wrapper:"Error_wrapper__Wpekb",textContent:"Error_textContent__kUAIr",img:"Error_img__lRg0N"}},12:function(e,t,a){e.exports={imageItem:"ImageGalleryItem_imageItem__3OcIe",galleryItemImage:"ImageGalleryItem_galleryItemImage__2Y-hK"}},13:function(e,t,a){e.exports={button:"Button_button__3X1Aw",wrapper:"Button_wrapper__10LTF"}},14:function(e,t,a){e.exports={overlay:"Modal_overlay__1n5fA",modal:"Modal_modal__JVsDv"}},24:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__2CC7j"}},29:function(e,t,a){e.exports={spinner:"Loader_spinner__2cvWM"}},30:function(e,t,a){e.exports={container:"Container_container__15pUq"}},37:function(e,t,a){},38:function(e,t,a){},6:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3UcKv",searchForm:"Searchbar_searchForm__1L7qp",button:"Searchbar_button__3xjQf",label:"Searchbar_label__1Kry3",input:"Searchbar_input__30WGQ","SearchForm-input":"Searchbar_SearchForm-input__3x0AR"}},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),i=(a(37),a(15)),s=a(4),l=a(8),u=(a(38),a(39),a(6)),b=a.n(u),j=a(1);var m=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(j.jsx)("header",{className:b.a.searchbar,children:Object(j.jsxs)("form",{className:b.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):l.b.info("Enter image name")},children:[Object(j.jsx)("button",{type:"submit",className:b.a.button,children:Object(j.jsx)("span",{className:b.a.label,children:"Search"})}),Object(j.jsx)("input",{className:b.a.input,onChange:function(e){o(e.currentTarget.value.toLowerCase())},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c})]})})},h=a(24),d=a.n(h),p=a(12),g=a.n(p);var f=function(e){var t=e.image,a=e.onClick,n=t.webformatURL,r=t.id,c=t.tags,o=t.largeImageURL;return Object(j.jsx)("li",{className:g.a.imageItem,children:Object(j.jsx)("img",{src:n,alt:c,"data-url":o,className:g.a.galleryItemImage,onClick:a})},r)};var O=function(e){var t=e.images,a=e.onClick;return Object(j.jsx)("ul",{className:d.a.gallery,children:t.map((function(e){return Object(j.jsx)(f,{image:e,onClick:a},e.id)}))})},_=a(25),x=a.n(_),v="https://pixabay.com/api/",w="23098776-3f405a43ba996034d96fd1d68",y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return x.a.get("".concat(v,"?key=").concat(w,"&q=").concat(e,"&image_type=photo&per_page=").concat(12,"&page=").concat(t)).then((function(e){return e.data.hits})).catch((function(e){return console.log(e)}))},S=a(13),C=a.n(S);var k=function(e){var t=e.buttonClick;return Object(j.jsx)("div",{className:C.a.wrapper,children:Object(j.jsx)("button",{type:"button",onClick:t,className:C.a.button,children:"Load more"})})},N=a(26),I=a(27),E=a(32),L=a(31),F=a(28),T=a.n(F),M=(a(79),a(29)),G=a.n(M),U=function(e){Object(E.a)(a,e);var t=Object(L.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{className:G.a.spinner,children:Object(j.jsx)(T.a,{type:"Circles",color:"#59067a",height:100,width:100})})}}]),a}(n.Component),q=a(14),A=a.n(q),R=document.querySelector("#rootModal");function B(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),window.addEventListener("click",o),function(){window.removeEventListener("keydown",r),window.removeEventListener("click",o)}}));var r=function(e){"Escape"===e.code&&t()},o=function(e){e.currentTarget===e.target&&t()};return Object(c.createPortal)(Object(j.jsx)("div",{className:A.a.overlay,onClick:o,children:Object(j.jsx)("div",{className:A.a.modal,children:a})}),R)}var J=a(30),K=a.n(J);var W=function(e){var t=e.children;return Object(j.jsx)("div",{className:K.a.container,children:t})},D=a.p+"static/media/oops.1afb9e96.jpg",Q=a(10),H=a.n(Q);var P=function(e){var t=e.textError;return Object(j.jsxs)("div",{role:"alert",className:H.a.wrapper,children:[Object(j.jsx)("img",{src:D,className:H.a.img,width:"550",alt:"no_res"}),Object(j.jsx)("p",{text:t,className:H.a.textContent,children:t})]})};var V=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),u=o[0],b=o[1],h=Object(n.useState)(1),d=Object(s.a)(h,2),p=d[0],g=d[1],f=Object(n.useState)(!1),_=Object(s.a)(f,2),x=_[0],v=_[1],w=Object(n.useState)(null),S=Object(s.a)(w,2),C=S[0],N=S[1],I=Object(n.useState)(!1),E=Object(s.a)(I,2),L=E[0],F=E[1],T=Object(n.useState)(""),M=Object(s.a)(T,2),G=M[0],q=M[1],A=Object(n.useState)(""),R=Object(s.a)(A,2),J=R[0],K=R[1];Object(n.useEffect)((function(){u&&(v(!0),y(u,p).then((function(e){if(r((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),0===e.length&&p>1)l.b.error("There are no more images in this category");else if(0===e.length)throw new P("No matches were found! Try again!")})).catch((function(e){return N("Something went wrong. Try again.")})).finally((function(){v(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}),[u,p]);var D=function(){F(!L)};return Object(j.jsxs)(W,{children:[Object(j.jsx)(m,{onSubmit:function(e){b(e),g(1),r([]),N(null)}}),C&&Object(j.jsx)(P,{textError:C}),a.length>0&&!C&&Object(j.jsx)(O,{images:a,onClick:function(e){"IMG"===e.target.nodeName&&(q(e.target.dataset.url),K(e.target.alt),D())}}),x&&Object(j.jsx)(U,{}),!x&&a.length>0&&Object(j.jsx)(k,{buttonClick:function(){g((function(e){return e+1}))}}),L&&Object(j.jsx)(B,{onClose:D,children:Object(j.jsx)("img",{src:G,alt:J})}),Object(j.jsx)(l.a,{autoClose:3e3})]})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(V,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.3717ac04.chunk.js.map